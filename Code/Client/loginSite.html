<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

</head>
<body>
    <form id="login-form">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username"><br><br>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password"><br><br>
      <button type="submit">Login</button>
    </form>
    
    <script>
      // Add event listener to form submission
      document.getElementById('login-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
      
        fetch('/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ username, password })
        })
        .then((response) => response.json())
        .then((data) => {
          if (data.message === 'Login successful') {
            console.log('Login successful!');
            console.log('Session info:', data.session); // Log the session info
        window.location.href = '/home.html';
          } else {
            console.error(data.message);
            // You can display an error message to the user
          }
        })
        .catch((error) => console.error(error));
      });
    </script>
</body>
</html>